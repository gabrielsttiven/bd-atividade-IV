CREATE DATABASE ATIVIDADE_UM_VIEWS;

USE ATIVIDADE_UM_VIEWS;

CREATE TABLE CLIENTES (
ID_CLIENTES INT PRIMARY KEY AUTO_INCREMENT,
NOME VARCHAR (155) NOT NULL,
EMAIL VARCHAR (155) NOT NULL,
TELEFONE VARCHAR (22) NOT NULL
);

CREATE TABLE PEDIDOS (
ID_PEDIDOS INT PRIMARY KEY AUTO_INCREMENT,
DATA_PEDIDO DATETIME NOT NULL,
VALOR_TOTAL DECIMAL(10,2) NOT NULL,
ID_CLIENTES INT,
FOREIGN KEY (ID_CLIENTES) REFERENCES CLIENTES(ID_CLIENTES)
);

INSERT INTO CLIENTES (ID_CLIENTES, NOME, EMAIL, TELEFONE) VALUES
('1', "Renato", "renatoaragao@gmail.com", "(71) 95558-4454"),
('2', "Selena", "selenagomez@gmail.com", "(25) 96632-7878"),
('3', "Gabriel", "gabrielbasto@gmail.com", "(69) 96337-9988"),
('4', "Daniel", "danielsilva@gmail.com", "(11) 95562-7832");

INSERT INTO PEDIDOS (ID_PEDIDOS, DATA_PEDIDO, VALOR_TOTAL, ID_CLIENTES) VALUES
('1', 11-05-2023, 150.00, '1'),
('2', 08-30-2023, 300.00, '3'),
('3', 11-14-2023, 112.00, '4'),
('4', 10-22-2023, 89.00, '2');

CREATE VIEW RELATORIO_PEDIDOS_CLIENTE AS
SELECT ID_CLIENTES
FROM PEDIDOS
WHERE ID_CLIENTES = NOME AND PEDIDOS = ID_PEDIDOS AND PEDIDOS = VALOR_TOTAL; 



